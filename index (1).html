<html>
  <head>
    <link rel="stylesheet" href="https://pyscript.net/releases/2023.03.1/pyscript.css" />
    <script defer src="https://pyscript.net/releases/2023.03.1/pyscript.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.js"></script>
    <!-- error script -->
    <script>
      window.onerror = function(msg, url, linenumber) {
        alert('Error message: '+msg+'\nURL: '+url+'\nLine Number: '+linenumber);
        return true;
      }
    </script>
    <script>function setup() {}</script>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <py-config type="json">
      {
        "fetch": [{
          "files": ["./main.py"]
        }]
      }
    </py-config>
    <py-script>
      from pyodide.ffi import create_proxy
      from main import *

      p5.setup = create_proxy(setup)
      p5.draw = create_proxy(draw)
      p5.keyPressed = create_proxy(keyPressed)
      p5.keyReleased = create_proxy(keyReleased) 
      p5.mousePressed = create_proxy(mousePressed) 
      p5.mouseReleased = create_proxy(mouseReleased)
      setup()
    </py-script>
  </body>
</html>